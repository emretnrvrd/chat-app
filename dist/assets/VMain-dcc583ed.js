import{p as L,Y as E,y as C,a1 as ue,X as D,F as le,ap as K,ar as W,R as N,s as c,al as z,E as T,af as Y,U as k,x as M,an as ie,Z as re,aP as ce,aQ as ve,b as de,a as X}from"./index-b1453b1d.js";const fe=L({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function ye(e){const u=E("useRender");u.render=e}function me(e){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const a=C(),l=C();if(ue){const t=new ResizeObserver(n=>{e==null||e(n,t),n.length&&(u==="content"?l.value=n[0].contentRect:l.value=n[0].target.getBoundingClientRect())});D(()=>{t.disconnect()}),le(a,(n,i)=>{i&&(t.unobserve(K(i)),l.value=void 0),n&&t.observe(K(n))},{flush:"post"})}return{resizeRef:a,contentRect:W(l)}}const B=Symbol.for("vuetify:layout"),Q=Symbol.for("vuetify:layout-item"),q=1e3,Re=L({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),we=L({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function pe(){const e=N(B);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ze(e){const u=N(B);if(!u)throw new Error("[Vuetify] Could not find injected layout");const a=e.id??`layout-item-${re()}`,l=E("useLayoutItem");k(Q,{id:a});const t=T(!1);ce(()=>t.value=!0),ve(()=>t.value=!1);const{layoutItemStyles:n,layoutItemScrimStyles:i}=u.register(l,{...e,active:c(()=>t.value?!1:e.active.value),id:a});return D(()=>u.unregister(a)),{layoutItemStyles:n,layoutRect:u.layoutRect,layoutItemScrimStyles:i}}const ge=(e,u,a,l)=>{let t={top:0,left:0,right:0,bottom:0};const n=[{id:"",layer:{...t}}];for(const i of e){const m=u.get(i),g=a.get(i),$=l.get(i);if(!m||!g||!$)continue;const h={...t,[m.value]:parseInt(t[m.value],10)+($.value?parseInt(g.value,10):0)};n.push({id:i,layer:h}),t=h}return n};function Le(e){const u=N(B,null),a=c(()=>u?u.rootZIndex.value-100:q),l=C([]),t=z(new Map),n=z(new Map),i=z(new Map),m=z(new Map),g=z(new Map),{resizeRef:$,contentRect:h}=me(),G=c(()=>{const s=new Map,d=e.overlaps??[];for(const o of d.filter(v=>v.includes(":"))){const[v,r]=o.split(":");if(!l.value.includes(v)||!l.value.includes(r))continue;const y=t.get(v),p=t.get(r),x=n.get(v),R=n.get(r);!y||!p||!x||!R||(s.set(r,{position:y.value,amount:parseInt(x.value,10)}),s.set(v,{position:p.value,amount:-parseInt(R.value,10)}))}return s}),b=c(()=>{const s=[...new Set([...i.values()].map(o=>o.value))].sort((o,v)=>o-v),d=[];for(const o of s){const v=l.value.filter(r=>{var y;return((y=i.get(r))==null?void 0:y.value)===o});d.push(...v)}return ge(d,t,n,m)}),j=c(()=>!Array.from(g.values()).some(s=>s.value)),I=c(()=>b.value[b.value.length-1].layer),J=c(()=>({"--v-layout-left":M(I.value.left),"--v-layout-right":M(I.value.right),"--v-layout-top":M(I.value.top),"--v-layout-bottom":M(I.value.bottom),...j.value?void 0:{transition:"none"}})),S=c(()=>b.value.slice(1).map((s,d)=>{let{id:o}=s;const{layer:v}=b.value[d],r=n.get(o),y=t.get(o);return{id:o,...v,size:Number(r.value),position:y.value}})),H=s=>S.value.find(d=>d.id===s),O=E("createLayout"),U=T(!1);Y(()=>{U.value=!0}),k(B,{register:(s,d)=>{let{id:o,order:v,position:r,layoutSize:y,elementSize:p,active:x,disableTransitions:R,absolute:ne}=d;i.set(o,v),t.set(o,r),n.set(o,y),m.set(o,x),R&&g.set(o,R);const Z=ie(Q,O==null?void 0:O.vnode).indexOf(s);Z>-1?l.value.splice(Z,0,o):l.value.push(o);const _=c(()=>S.value.findIndex(w=>w.id===o)),P=c(()=>a.value+b.value.length*2-_.value*2),oe=c(()=>{const w=r.value==="left"||r.value==="right",V=r.value==="right",se=r.value==="bottom",F={[r.value]:0,zIndex:P.value,transform:`translate${w?"X":"Y"}(${(x.value?0:-110)*(V||se?-1:1)}%)`,position:ne.value||a.value!==q?"absolute":"fixed",...j.value?void 0:{transition:"none"}};if(!U.value)return F;const f=S.value[_.value];if(!f)throw new Error(`[Vuetify] Could not find layout item "${o}"`);const A=G.value.get(o);return A&&(f[A.position]+=A.amount),{...F,height:w?`calc(100% - ${f.top}px - ${f.bottom}px)`:p.value?`${p.value}px`:void 0,left:V?void 0:`${f.left}px`,right:V?`${f.right}px`:void 0,top:r.value!=="bottom"?`${f.top}px`:void 0,bottom:r.value!=="top"?`${f.bottom}px`:void 0,width:w?p.value?`${p.value}px`:void 0:`calc(100% - ${f.left}px - ${f.right}px)`}}),ae=c(()=>({zIndex:P.value-1}));return{layoutItemStyles:oe,layoutItemScrimStyles:ae,zIndex:P}},unregister:s=>{i.delete(s),t.delete(s),n.delete(s),m.delete(s),g.delete(s),l.value=l.value.filter(d=>d!==s)},mainRect:I,mainStyles:J,getLayoutItem:H,items:S,layoutRect:h,rootZIndex:a});const ee=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),te=c(()=>({zIndex:a.value,position:u?"relative":void 0,overflow:u?"hidden":void 0}));return{layoutClasses:ee,layoutStyles:te,getLayoutItem:H,items:S,layoutRect:h,layoutRef:$}}function he(){const e=T(!1);return Y(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:c(()=>e.value?void 0:{transition:"none !important"}),isBooted:W(e)}}const be=L({tag:{type:String,default:"div"}},"tag"),Ie=L({scrollable:Boolean,...fe(),...be({tag:"main"})},"VMain"),$e=de()({name:"VMain",props:Ie(),setup(e,u){let{slots:a}=u;const{mainStyles:l}=pe(),{ssrBootStyles:t}=he();return ye(()=>X(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[l.value,t.value,e.style]},{default:()=>{var n,i;return[e.scrollable?X("div",{class:"v-main__scroller"},[(n=a.default)==null?void 0:n.call(a)]):(i=a.default)==null?void 0:i.call(a)]}})),{}}});export{$e as V,Re as a,be as b,Le as c,he as d,we as e,ze as f,me as g,fe as m,ye as u};
